{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "collapsed": true
   },
   "source": [
    "In this notebook, you will implement the forward longitudinal vehicle model. The model accepts throttle inputs and steps through the longitudinal dynamic equations. Once implemented, you will be given a set of inputs that drives over a small road slope to test your model.\n",
    "\n",
    "The input to the model is a throttle percentage $x_\\theta \\in [0,1]$ which provides torque to the engine and subsequently accelerates the vehicle for forward motion. \n",
    "\n",
    "The dynamic equations consist of many stages to convert throttle inputs to wheel speed (engine -> torque converter -> transmission -> wheel). These stages are bundled together in a single inertia term $J_e$ which is used in the following combined engine dynamic equations.\n",
    "\n",
    "\\begin{align}\n",
    "    J_e \\dot{\\omega}_e &= T_e - (GR)(r_{eff} F_{load}) \\\\ m\\ddot{x} &= F_x - F_{load}\n",
    "\\end{align}\n",
    "\n",
    "Where $T_e$ is the engine torque, $GR$ is the gear ratio, $r_{eff}$ is the effective radius, $m$ is the vehicle mass, $x$ is the vehicle position, $F_x$ is the tire force, and $F_{load}$ is the total load force. \n",
    "\n",
    "The engine torque is computed from the throttle input and the engine angular velocity $\\omega_e$ using a simplified quadratic model. \n",
    "\n",
    "\\begin{align}\n",
    "    T_e = x_{\\theta}(a_0 + a_1 \\omega_e + a_2 \\omega_e^2)\n",
    "\\end{align}\n",
    "\n",
    "The load forces consist of aerodynamic drag $F_{aero}$, rolling friction $R_x$, and gravitational force $F_g$ from an incline at angle $\\alpha$. The aerodynamic drag is a quadratic model and the friction is a linear model.\n",
    "\n",
    "\\begin{align}\n",
    "    F_{load} &= F_{aero} + R_x + F_g \\\\\n",
    "    F_{aero} &= \\frac{1}{2} C_a \\rho A \\dot{x}^2 = c_a \\dot{x}^2\\\\\n",
    "    R_x &= N(\\hat{c}_{r,0} + \\hat{c}_{r,1}|\\dot{x}| + \\hat{c}_{r,2}\\dot{x}^2) \\approx c_{r,1} \\dot{x}\\\\\n",
    "    F_g &= mg\\sin{\\alpha}\n",
    "\\end{align}\n",
    "\n",
    "Note that the absolute value is ignored for friction since the model is used for only forward motion ($\\dot{x} \\ge 0$). \n",
    " \n",
    "The tire force is computed using the engine speed and wheel slip equations.\n",
    "\n",
    "\\begin{align}\n",
    "    \\omega_w &= (GR)\\omega_e \\\\\n",
    "    s &= \\frac{\\omega_w r_e - \\dot{x}}{\\dot{x}}\\\\\n",
    "    F_x &= \\left\\{\\begin{array}{lr}\n",
    "        cs, &  |s| < 1\\\\\n",
    "        F_{max}, & \\text{otherwise}\n",
    "        \\end{array}\\right\\} \n",
    "\\end{align}\n",
    "\n",
    "Where $\\omega_w$ is the wheel angular velocity and $s$ is the slip ratio. \n",
    "\n",
    "We setup the longitudinal model inside a Python class below. The vehicle begins with an initial velocity of 5 m/s and engine speed of 100 rad/s. All the relevant parameters are defined and like the bicycle model, a sampling time of 10ms is used for numerical integration."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [],
   "source": [
    "import sys\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import matplotlib.image as mpimg\n",
    "\n",
    "class Vehicle():\n",
    "    def __init__(self):\n",
    " \n",
    "        # ==================================\n",
    "        #  Parameters\n",
    "        # ==================================\n",
    "    \n",
    "        #Throttle to engine torque\n",
    "        self.a_0 = 400\n",
    "        self.a_1 = 0.1\n",
    "        self.a_2 = -0.0002\n",
    "        \n",
    "        # Gear ratio, effective radius, mass + inertia\n",
    "        self.GR = 0.35\n",
    "        self.r_e = 0.3\n",
    "        self.J_e = 10\n",
    "        self.m = 2000\n",
    "        self.g = 9.81\n",
    "        \n",
    "        # Aerodynamic and friction coefficients\n",
    "        self.c_a = 1.36\n",
    "        self.c_r1 = 0.01\n",
    "        \n",
    "        # Tire force \n",
    "        self.c = 10000\n",
    "        self.F_max = 10000\n",
    "        \n",
    "        # State variables\n",
    "        self.x = 0\n",
    "        self.v = 5\n",
    "        self.a = 0\n",
    "        self.w_e = 100\n",
    "        self.w_e_dot = 0\n",
    "        \n",
    "        self.sample_time = 0.01\n",
    "        \n",
    "    def reset(self):\n",
    "        # reset state variables\n",
    "        self.x = 0\n",
    "        self.v = 5\n",
    "        self.a = 0\n",
    "        self.w_e = 100\n",
    "        self.w_e_dot = 0"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Implement the combined engine dynamic equations along with the force equations in the cell below. The function $\\textit{step}$ takes the throttle $x_\\theta$ and incline angle $\\alpha$ as inputs and performs numerical integration over one timestep to update the state variables. Hint: Integrate to find the current position, velocity, and engine speed first, then propagate those values into the set of equations."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [],
   "source": [
    "class Vehicle(Vehicle):\n",
    "    def step(self, throttle, alpha):\n",
    "        # ==================================\n",
    "        #  Implement vehicle model here\n",
    "        # ==================================                \n",
    "        F_aero = self.c_a * self.v * self.v\n",
    "        R_x = self.c_r1 * self.v\n",
    "        F_g = self.m * self.g * np.sin(alpha)\n",
    "        F_load = F_aero + R_x + F_g\n",
    "        T_e = throttle * (self.a_0 + (self.a_1 * self.w_e) + (self.a_2 * self.w_e * self.w_e))\n",
    "        W_w = self.GR * self.w_e\n",
    "        s = ((W_w * self.r_e) - self.v)/self.v\n",
    "        if (np.abs(s) < 1):\n",
    "            F_x = self.c * s\n",
    "        else:\n",
    "            F_x = self.F_max\n",
    "        self.x = self.x + (self.v * self.sample_time)\n",
    "        self.v = self.v + (self.a * self.sample_time)\n",
    "        self.a = (F_x - F_load)/self.m\n",
    "        self.w_e = self.w_e + (self.w_e_dot * self.sample_time)\n",
    "        self.w_e_dot = (T_e - (self.GR * self.r_e * F_load))/self.J_e\n",
    "        \n",
    "        \n",
    "        \n",
    "        \n",
    "        pass"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Using the model, you can send constant throttle inputs to the vehicle in the cell below. You will observe that the velocity converges to a fixed value based on the throttle input due to the aerodynamic drag and tire force limit. A similar velocity profile can be seen by setting a negative incline angle $\\alpha$. In this case, gravity accelerates the vehicle to a terminal velocity where it is balanced by the drag force."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sample_time = 0.01\n",
    "time_end = 100\n",
    "model = Vehicle()\n",
    "\n",
    "t_data = np.arange(0,time_end,sample_time)\n",
    "v_data = np.zeros_like(t_data)\n",
    "\n",
    "# throttle percentage between 0 and 1\n",
    "throttle = 0.2\n",
    "\n",
    "# incline angle (in radians)\n",
    "alpha = 0\n",
    "\n",
    "for i in range(t_data.shape[0]):\n",
    "    v_data[i] = model.v\n",
    "    model.step(throttle, alpha)\n",
    "    \n",
    "plt.plot(t_data, v_data)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We will now drive the vehicle over a slope as shown in the diagram below.\n",
    "\n",
    "![ramp](ramp.png)\n",
    "\n",
    "To climb the slope, a trapezoidal throttle input is provided for the next 20 seconds as shown in the figure below. \n",
    "\n",
    "![throttle](throttle.png)\n",
    "\n",
    "The vehicle begins at 20% throttle and gradually increases to 50% throttle. This is maintained for 10 seconds as the vehicle climbs the steeper slope. Afterwards, the vehicle reduces the throttle to 0.\n",
    "\n",
    "In the cell below, implement the ramp angle profile $\\alpha (x)$ and throttle profile $x_\\theta (t)$ and step them through the vehicle dynamics. The vehicle position $x(t)$ is saved in the array $\\textit{x_data}$. This will be used to grade your solution.\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "time_end = 20\n",
    "t_data = np.arange(0,time_end,sample_time)\n",
    "x_data = np.zeros_like(t_data)\n",
    "v_data = np.zeros_like(t_data)\n",
    "throttle_data = np.zeros_like(t_data)\n",
    "alpha_data = np.zeros_like(t_data)\n",
    "\n",
    "\n",
    "# reset the states\n",
    "model.reset()\n",
    "\n",
    "# ==================================\n",
    "#  Learner solution begins here\n",
    "# ==================================\n",
    "for i in range(t_data.shape[0]):\n",
    "    if i>= 0 and i<500:\n",
    "        throttle = 0.2 + (0.0006 * i)\n",
    "    elif i >= 500 and i < 1500:\n",
    "        throttle = 0.5\n",
    "    elif i >= 1500:\n",
    "        throttle = 2 - (0.001 * i)\n",
    "    if model.x < 60:\n",
    "        alpha = 0.0499\n",
    "    elif model.x >= 60 and model.x <= 150:\n",
    "        alpha = 0.0996\n",
    "    elif model.x > 150:\n",
    "        alpha = 0\n",
    "    alpha_data[i] = alpha\n",
    "    throttle_data[i] = throttle\n",
    "    x_data[i] = model.x\n",
    "    v_data[i] = model.v\n",
    "    model.step(throttle_data[i],alpha_data[i])\n",
    "    \n",
    "        \n",
    "        \n",
    "    \n",
    "        \n",
    "        \n",
    "    \n",
    "    \n",
    "\n",
    "# ==================================\n",
    "#  Learner solution ends here\n",
    "# ==================================\n",
    "\n",
    "# Plot x vs t for visualization\n",
    "plt.plot(t_data, x_data)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "If you have implemented the vehicle model and inputs correctly, you should see that the vehicle crosses the ramp at ~15s where the throttle input begins to decrease.\n",
    "\n",
    "The cell below will save the time and vehicle inputs as text file named $\\textit{xdata.txt}$. To locate the file, change the end of your web directory to $\\textit{/notebooks/Course_1_Module_4/xdata.txt}$\n",
    "\n",
    "Once you are there, you can download the file and submit to the Coursera grader to complete this assessment."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [],
   "source": [
    "data = np.vstack([t_data, x_data]).T\n",
    "np.savetxt('xdata.txt', data, delimiter=', ')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Congratulations! You have now completed the assessment! Feel free to test the vehicle model with different inputs in the cell below, and see what trajectories they form. In the next module, you will see the longitudinal model being used for speed control. See you there!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAYYAAAD8CAYAAABzTgP2AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDMuMC4zLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvnQurowAAEO9JREFUeJzt3X+MZWV9x/H3pyv0B5KCsvxaWJfqxgSJIJ2sGloDBeyysaJG7fKHom2yasBo0j9ESaxt0sRYtY3FQlZLiolCbRQhdeVnbJCkCrNkgYUFWSnKuht20AhsMNLFb/+Ys8k8w72zw86cmbnM+5Xc3HOe57n3fk9O2A/3OefOk6pCkqQDfmexC5AkLS0GgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhovW+wCDsUxxxxTa9asWewyJGmkbN269cmqWnmwcSMZDGvWrGF8fHyxy5CkkZLkp7MZ51SSJKlhMEiSGvMSDEmuTrI3yfYpba9IcmuSR7rno4e8dn2Sh5PsTHLZfNQjSTp08/WN4d+B9dPaLgNur6q1wO3dfiPJCuDLwAXAqcBFSU6dp5okSYdgXoKhqu4Afjmt+ULgmm77GuAdA166DthZVY9W1XPAdd3rJEmLpM9rDMdV1R6A7vnYAWNWAY9P2d/VtUmSFsliX3zOgLaBS8ol2ZRkPMn4xMREz2VJ0vLVZzA8keQEgO5574Axu4CTp+yfBOwe9GZVtbmqxqpqbOXKg/4+Q5J0iPoMhhuBi7vti4EbBoy5G1ib5JQkhwMbu9dJkhbJfN2uei3wP8Brk+xK8tfAZ4HzkzwCnN/tk+TEJFsAqmo/cClwM7AD+GZVPTAfNUmSDs28/EmMqrpoSNe5A8buBjZM2d8CbJmPOiRJc7fYF58lSUuMwSBJahgMkqSGwSBJahgMkqSGwSBJahgMkqSGwSBJahgMkqSGwSBJahgMkqSGwSBJahgMkqSGwSBJahgMkqSGwSBJavQaDElem2TblMfTST4+bczZSZ6aMubTfdYkSZrZvKzgNkxVPQycAZBkBfBz4PoBQ39QVW/rsxZJ0uws5FTSucBPquqnC/iZkqQXaSGDYSNw7ZC+Nye5N8n3krxuAWuSJE2zIMGQ5HDg7cB/Dui+B3hVVZ0O/AvwnSHvsSnJeJLxiYmJ/oqVpGVuob4xXADcU1VPTO+oqqeral+3vQU4LMkxA8ZtrqqxqhpbuXJl/xVL0jK1UMFwEUOmkZIcnyTd9rqupl8sUF2SpGl6vSsJIMkfAOcDH5rS9mGAqroKeDfwkST7gV8DG6uq+q5LkjRY78FQVc8Cr5zWdtWU7SuAK/quQ5I0O/7yWZLUMBgkSQ2DQZLUMBgkSQ2DQZLUMBgkSQ2DQZLUMBgkSQ2DQZLUMBgkSQ2DQZLUMBgkSQ2DQZLUMBgkSQ2DQZLUMBgkSQ2DQZLU6D0YkjyW5P4k25KMD+hPki8l2ZnkviRn9l2TJGm43pf27JxTVU8O6bsAWNs93ghc2T1LkhbBUphKuhD4Wk36IXBUkhMWuyhJWq4WIhgKuCXJ1iSbBvSvAh6fsr+ra2sk2ZRkPMn4xMRET6VKkhYiGM6qqjOZnDK6JMlbpvVnwGvqBQ1Vm6tqrKrGVq5c2UedkiQWIBiqanf3vBe4Hlg3bcgu4OQp+ycBu/uuS5I0WK/BkOSIJEce2AbeCmyfNuxG4P3d3UlvAp6qqj191iVJGq7vu5KOA65PcuCzvlFVNyX5MEBVXQVsATYAO4FngQ/2XJMkaQa9BkNVPQqcPqD9qinbBVzSZx2SpNlbCrerSpKWEINBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktToe2nPk5N8P8mOJA8k+diAMWcneSrJtu7x6T5rkiTNrO+lPfcDf1NV93RrP29NcmtVPTht3A+q6m091yJJmoVevzFU1Z6quqfbfgbYAazq8zMlSXOzYNcYkqwB3gD8aED3m5Pcm+R7SV63UDVJkl6o76kkAJK8HPgW8PGqenpa9z3Aq6pqX5INwHeAtQPeYxOwCWD16tU9VyxJy1fv3xiSHMZkKHy9qr49vb+qnq6qfd32FuCwJMcMGLe5qsaqamzlypV9ly1Jy1bfdyUF+DdgR1V9cciY47txJFnX1fSLPuuSJA3X91TSWcD7gPuTbOvaPgWsBqiqq4B3Ax9Jsh/4NbCxqqrnuiRJQ/QaDFV1J5CDjLkCuKLPOiRJs+cvnyVJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktQwGCRJDYNBktRYiDWf1yd5OMnOJJcN6E+SL3X99yU5s++aJEnD9b3m8wrgy8AFwKnARUlOnTbsAmBt99gEXNlnTZKkmfX9jWEdsLOqHq2q54DrgAunjbkQ+FpN+iFwVJITeq5LkjREr2s+A6uAx6fs7wLeOIsxq4A9813MtXf9jDt+PDHfbytJC+aSc17Daav+sNfP6DsYMqCtDmEMSTYxOdXE6tWrD6mYJ5/5DT+Z2HdIr5WkpeDX//d875/RdzDsAk6esn8SsPsQxlBVm4HNAGNjYy8Ijtn46Llr+ei5aw/lpZK0bPR9jeFuYG2SU5IcDmwEbpw25kbg/d3dSW8CnqqqeZ9GkiTNTq/fGKpqf5JLgZuBFcDVVfVAkg93/VcBW4ANwE7gWeCDfdYkSZpZ31NJVNUWJv/xn9p21ZTtAi7puw5J0uz4y2dJUsNgkCQ1DAZJUsNgkCQ1DAZJUsNgkCQ1DAZJUsNgkCQ1DAZJUsNgkCQ1DAZJUsNgkCQ1DAZJUsNgkCQ1DAZJUsNgkCQ1DAZJUqO3FdyS/CPwF8BzwE+AD1bVrwaMewx4Bnge2F9VY33VJEk6uD6/MdwKnFZVrwd+DHxyhrHnVNUZhoIkLb7egqGqbqmq/d3uD4GT+vosSdL8WahrDH8FfG9IXwG3JNmaZNOwN0iyKcl4kvGJiYleipQkzfEaQ5LbgOMHdF1eVTd0Yy4H9gNfH/I2Z1XV7iTHArcmeaiq7pg+qKo2A5sBxsbGai51S5KGm1MwVNV5M/UnuRh4G3BuVQ38x7yqdnfPe5NcD6wDXhAMkqSF0dtUUpL1wCeAt1fVs0PGHJHkyAPbwFuB7X3VJEk6uD6vMVwBHMnk9NC2JFcBJDkxyZZuzHHAnUnuBe4CvltVN/VYkyTpIHr7HUNVvWZI+25gQ7f9KHB6XzVIkl48f/ksSWoYDJKkhsEgSWoYDJKkhsEgSWoYDJKkhsEgSWoYDJKkhsEgSWoYDJKkhsEgSWoYDJKkhsEgSWoYDJKkhsEgSWoYDJKkRp9Le34myc+71du2JdkwZNz6JA8n2Znksr7qkSTNTm8ruHX+qao+P6wzyQrgy8D5wC7g7iQ3VtWDPdclSRpisaeS1gE7q+rRqnoOuA64cJFrkqRlre9guDTJfUmuTnL0gP5VwONT9nd1bZKkRTKnYEhyW5LtAx4XAlcCrwbOAPYAXxj0FgPaashnbUoynmR8YmJiLmVLkmYwp2sMVXXebMYl+QrwXwO6dgEnT9k/Cdg95LM2A5sBxsbGBoaHJGnu+rwr6YQpu+8Etg8YdjewNskpSQ4HNgI39lWTJOng+rwr6XNJzmByaugx4EMASU4EvlpVG6pqf5JLgZuBFcDVVfVAjzVJkg6it2CoqvcNad8NbJiyvwXY0lcdkqQXZ7FvV5UkLTEGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhq9reCW5D+A13a7RwG/qqozBox7DHgGeB7YX1VjfdUkSTq4Ppf2/MsD20m+ADw1w/BzqurJvmqRJM1eb8FwQJIA7wX+rO/PkiTN3UJcY/hT4ImqemRIfwG3JNmaZNOwN0myKcl4kvGJiYleCpUkzfEbQ5LbgOMHdF1eVTd02xcB187wNmdV1e4kxwK3Jnmoqu6YPqiqNgObAcbGxmoudUuShptTMFTVeTP1J3kZ8C7gj2d4j93d894k1wPrgBcEgyRpYfQ9lXQe8FBV7RrUmeSIJEce2AbeCmzvuSZJ0gz6DoaNTJtGSnJiki3d7nHAnUnuBe4CvltVN/VckyRpBr3elVRVHxjQthvY0G0/CpzeZw2SpBfHXz5LkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpYTBIkhoGgySpMadgSPKeJA8k+W2SsWl9n0yyM8nDSf58yOtfkeTWJI90z0fPpR5J0tzN9RvDduBdwB1TG5OcyuSynq8D1gP/mmTFgNdfBtxeVWuB27t9SdIimlMwVNWOqnp4QNeFwHVV9Zuq+l9gJ7BuyLhruu1rgHfMpR5J0tz1dY1hFfD4lP1dXdt0x1XVHoDu+die6pEkzdLLDjYgyW3A8QO6Lq+qG4a9bEBbvZjCBtSxCdgEsHr16rm8lSRpBgcNhqo67xDedxdw8pT9k4DdA8Y9keSEqtqT5ARg7wx1bAY2A4yNjc0pZCRJw/U1lXQjsDHJ7yY5BVgL3DVk3MXd9sXAsG8gkqQFMtfbVd+ZZBfwZuC7SW4GqKoHgG8CDwI3AZdU1fPda7465dbWzwLnJ3kEOL/blyQtolSN3qzM2NhYjY+PL3YZkjRSkmytqrGDjfOXz5KkhsEgSWqM5FRSkgngp4f48mOAJ+exnMXksSw9L5XjAI9lqZrLsbyqqlYebNBIBsNcJBmfzRzbKPBYlp6XynGAx7JULcSxOJUkSWoYDJKkxnIMhs2LXcA88liWnpfKcYDHslT1fizL7hqDJGlmy/EbgyRpBssqGJKs71aU25lkpBcFSvJYkvuTbEsyMj8DT3J1kr1Jtk9pG8mV/IYcy2eS/Lw7L9uSbFjMGmcryclJvp9kR7cq48e69pE6NzMcx8idlyS/l+SuJPd2x/J3XXvv52TZTCV1K8j9mMm/ybQLuBu4qKoeXNTCDlGSx4Cxqhqpe7OTvAXYB3ytqk7r2j4H/LKqPtsF9tFV9YnFrHM2hhzLZ4B9VfX5xaztxer+uvEJVXVPkiOBrUwunPUBRujczHAc72XEzkuSAEdU1b4khwF3Ah9jctXMXs/JcvrGsA7YWVWPVtVzwHVMriCnBVRVdwC/nNY8kiv5DTmWkVRVe6rqnm77GWAHk4trjdS5meE4Rk5N2tftHtY9igU4J8spGGa7qtyoKOCWJFu7RYxG2UttJb9Lk9zXTTUt6amXQZKsAd4A/IgRPjfTjgNG8LwkWZFkG5Nr1dxaVQtyTpZTMMz7qnKL7KyqOhO4ALikm9bQ4rsSeDVwBrAH+MLilvPiJHk58C3g41X19GLXc6gGHMdInpeqer6qzmBysbN1SU5biM9dTsEw21XlRkJV7e6e9wLXMzlVNqqe6OaGD8wRD13Jb6mrqie6/5h/C3yFETov3Tz2t4CvV9W3u+aROzeDjmOUzwtAVf0K+G9gPQtwTpZTMNwNrE1ySpLDgY1MriA3cpIc0V1YI8kRwFuB7TO/akl7yazkd+A/2M47GZHz0l3o/DdgR1V9cUrXSJ2bYccxiuclycokR3Xbvw+cBzzEApyTZXNXEkB3i9o/AyuAq6vqHxa5pEOS5I+Y/JYAk+t2f2NUjiXJtcDZTP6FyCeAvwW+w+SKf6uBnwHvqaolf1F3yLGczeR0RQGPAR86MB+8lCX5E+AHwP3Ab7vmTzE5Pz8y52aG47iIETsvSV7P5MXlFUz+T/w3q+rvk7ySns/JsgoGSdLBLaepJEnSLBgMkqSGwSBJahgMkqSGwSBJahgMkqSGwSBJahgMkqTG/wPMAS7yV47s5wAAAABJRU5ErkJggg==\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "sample_time = 0.01\n",
    "time_end = 30\n",
    "model.reset()\n",
    "\n",
    "t_data = np.arange(0,time_end,sample_time)\n",
    "x_data = np.zeros_like(t_data)\n",
    "\n",
    "# ==================================\n",
    "#  Test various inputs here\n",
    "# ==================================\n",
    "for i in range(t_data.shape[0]):\n",
    "\n",
    "    model.step(0,0)\n",
    "    \n",
    "plt.axis('equal')\n",
    "plt.plot(t_data, x_data)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
